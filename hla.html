---
layout: default
---
<script type="text/javascript">
  $('#nav-docs').next().click();
</script>

<div style="padding:16px">
  <h1>High Level Architecture</h1>
  <h2>ECS and DOD</h2>
  <p>ECS stands for Entity Component System.</p>
  <p>DOD stands for Data Oritented Design, it's a paradigm like OOP</p>
  <h2>Entities</h2>
  <p>
    Entities are just numbers (like an ID).
    <br>
    <br>
    Instead of having inheritance like in OOP, you 'attach' components to an entity. Components are just data, and an entity
    is somehow related to pieces of data, and can group them together to make things.
    <br>
    <br>
    By default an entity is a <code>uint32_t</code>, but the <code>JEL_Entity</code> is a typedef for this, so you can make
    it however big or small you want.
    <br>
    <br>
    Entities are managed in an entity manager, this is how entities are created, destroyed, and checks if an entity is alive.
    <br>
    <br>
    To make this work the bits of an entity are divided. Some bits are used to represent the index in the entity manager array,
    and some bits represent a generation, which is how many times that index has been used. By default 24 bits are for index
    and 8 bits are for generation.
    <br>
    <br>
    This allows entities to be weak references, so you don't need to notify every system or component when an entity is destroyed.
  </p>
  <h2>Components, Types, Tables</h2>
  <p>
    Components are just data.
    <br>
    <br>
    What exactly are components? The structure that defines the data, the data tables, the data in the data tables? It's never defined
    in JEL. The concept of databases and tables are important in JEL.
    <br>
    <br>
    All components have a type associated with them, and this is assigned when a component is registered.
    <br>
    <br>
    Types are a bit array. For example a <code>Position</code> component could be associated with the type 0010, and a
    <code>Physics</code> component could be associated with the type 0100. Types are easy to combine, a <code>Position:Physics</code>
    type can be represented by 0110. However, components only have a type index, as plain components will only have 1 bit. Entities
    and tables are associated with the bit array type.
    <br>
    <br>
    Tables store all their data in one big buffer. Tables are also composed of table fragments, these help organize the regions of the
    table's memory (which are contiguous parallel arrays within the buffer).
    <br>
    <br>
    <img src="/jEL/assets/images/hla_1.jpeg">
    <img src="/jEL/assets/images/hla_2.jpeg">
  </p>
  <p>
    With entites and components/tables/types, that's basically it. There are also queries that are a big thing, but the ideas
    on this page are the big picture
  </p>
</div>
